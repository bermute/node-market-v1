@startuml
' ===============================
' Users
' ===============================
entity users {
  +id : INT <<PK>>
  --
  name : VARCHAR(50)
  address : VARCHAR(255)
  userId : VARCHAR(50) <<UNIQUE>>
  password : VARCHAR(255)
}

' ===============================
' Posts
' ===============================
entity posts {
  +id : INT <<PK>>
  --
  title : VARCHAR(255)
  description : TEXT
  price : INT
  imageUrl : VARCHAR(255)
  location : VARCHAR(255)
  status : VARCHAR(20)
  createdAt : DATETIME
  sellerId : INT <<FK>>
}

' ===============================
' Messages
' ===============================
entity messages {
  +id : INT <<PK>>
  --
  content : TEXT
  createdAt : DATETIME
  senderId : INT <<FK>>
  postId : INT <<FK>>
}

' ===============================
' Appointments
' ===============================
entity appointments {
  +postId : INT <<PK, FK>>
  --
  createdAt : DATETIME
  cancelRequestedBy : INT <<FK>>
  buyerId : INT <<FK>>
}

' ===============================
' Relationships
' ===============================

users ||--o{ posts : sells
users ||--o{ messages : sends
users ||--o{ appointments : buyer
users ||--o{ appointments : cancelRequester

posts ||--o{ messages : has
posts ||--|| appointments : reserved

@enduml
